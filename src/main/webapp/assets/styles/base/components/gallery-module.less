// The gallery module gets a wrapper of "gallery-module" and then a modifier class if it has navigation of
// of either "gallery-module-nav" for text nav or "gallery-module-thumbs" for thumb navigation. If it's a
// horizontal gallery module that has multiple slides visible, it gets the "gallery-module-horizontal" modifier


// this component needs the optional CTA to have its own margin
.gallery-module-component {
	.component-cta {
		margin-top: @space;
	}
}

.gallery-module {

    // on mobile we will hide the arrows (design deemed this so)
    .slick-prev, .slick-next {
        display: none !important;
    }

    // set this up to support portrait and landscape images. The portrait ones will center themselves horizontally
    .bsp-carousel-slide {
        img {
            height: auto;
            margin: 0 auto;
            width: auto;
        }
    }

    // all gallery module navs (thumbs, nav, etc) get a pretty border at the top
    .bsp-carousel-nav {

        .bsp-carousel-slide {
            position: relative;

            &.current {

                &:after {
                    content:'';
                    position: absolute;
                    bottom: 0;
                    top: 0;
                    left: 0;
                    right: 0;
                    border-top: 5px solid @color-gallery-module-current-slide;
                }
            }
        }

    }
}

// these are styles for the hoziontal layout gallery which has 5 slides across
.gallery-module-horizontal {
	margin-bottom: 0;

    // on this gallery though, we have arrows always
    .slick-prev, .slick-next {
        display: inline-block !important;
    }

	.slick-list {
		margin: 0 -@space;
	}

	.bsp-carousel-slide {
		padding: 0 @space;
		width: 50%;
	}

}

// targeted to only bsp-carousel-slides inside the nav portion of the gallery-nav module
// this lets us reuse the renderer for thumbs for the text nav and just write css overrides
.gallery-module-nav {

	// we have a 40px bottom margin for the slide nav text to fit
	.carousel-stage {
		.slick-track {
			margin-bottom: 40px;
		}
	}

	.bsp-carousel-nav {
		background-color: @color-gallery-module-nav-background;

		.bsp-carousel-slide {
			color: @color-white;
			cursor: pointer;
            border-right: 1px solid @color-gray-light-2;
            height: 100px;
            padding: @space;
			text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;

            &.current {
                background: @color-brand-primary;
            }

            &:after {
                display: none;
            }

            &:last-of-type {
                border: none;
            }
		}
	}

    // this is use for mobile instead of the thumb nav, as xs and sm resolutions, we get rid of the thumb nav
    // as it's too small to make sense
    .bsp-carousel-slide-nav-text {
        background-color: @gallery-module-nav-background-color;
        color: @color-white;
        height: 40px;
        padding: @space;
        position: absolute;
        bottom: -40px;
        width: 100%;
    }
}

// for medium and up, we kill the margin and also hide the nav text, as by default the
// thumbs gallery at that point drops in the thumbnav
@media @mq-sm {

	.gallery-module-horizontal-slides {

		.bsp-carousel-slide {
			width: 20%;
		}

	}

}


@media @mq-md {

	.gallery-module {

        .slick-prev, .slick-next {
            // on medium and up, we will show previous and next
            display: inline-block !important;
        }

        // for anything past medium, we want the thumbs or text nav, anything before, no thumbs
        .bsp-carousel-nav {

            &.slick-initialized {
                display: block;
            }

            // also in the carousel nav, no arrows
            .slick-prev, .slick-next {
                // on medium and up, we will show previous and next
                display: none !important;
            }

        }

        // on a stage carousel, we want to make sure there are never dots, even if enabled
        .bsp-carousel-stage {
            margin-bottom: 0;

            .slick-track {
                margin-bottom: 0px;
            }

            .slick-dots {
                display: none !important;
            }
        }

        // on desktop, we don't need the nav text as we are using the carousel nav
        .bsp-carousel-slide-nav-text  {
            display: none;
        }

	}

}
